(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{21:function(e,t,c){},22:function(e,t,c){},24:function(e,t,c){},35:function(e,t,c){},36:function(e,t,c){},37:function(e,t,c){},38:function(e,t,c){},57:function(e,t,c){},58:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c.n(n),s=c(15),r=c.n(s),i=(c(21),c(3)),o=(c(22),c(0)),d=function(e){var t=e.city,c=e.country,n=e.errorMessage;return n?Object(o.jsx)("h1",{children:n}):Object(o.jsx)("h1",{className:"location-details",children:"".concat(t,", ").concat(c)})};d.defaultProps={errorMessage:""};var u=d,l=(c(24),c(4)),m=c.n(l),b=c(5),j=c.n(b),f=function(e){var t=e.date,c=e.description,n=e.icon,a=e.temperature,s=e.onSelect;return Object(o.jsxs)("div",{className:"forecast-summary","data-testid":"forecast-summary",children:[Object(o.jsx)("div",{className:"forecast-summary__date",children:j()(t).format("ddd Do MMM")}),Object(o.jsx)("div",{className:"forecast-summary__icon","data-testid":"forecast-icon",children:Object(o.jsx)(m.a,{name:"owm",iconId:n})}),Object(o.jsx)("div",{className:"forecast-summary__description",children:c}),Object(o.jsxs)("div",{className:"forecast-summary__temperature",children:[a.max,"\xb0C"]}),Object(o.jsx)("button",{type:"button",className:"forecase-summary__button",onClick:function(){return s(t)},children:"More"})]})},p=(c(35),function(e){var t=e.forecasts,c=e.onForecastSelect;return Object(o.jsx)("div",{className:"forecast-summaries",children:t.map((function(e){return Object(o.jsx)(f,{date:e.date,description:e.description,icon:e.icon.toString(),temperature:e.temperature,onSelect:c},e.date)}))})}),h=(c(36),c.p+"static/media/cloud.30e7607a.png"),O=c.p+"static/media/sun.2b41f7bf.png",y=function(e){var t,c=e.forecast,a=c.date,s=c.temperature,r=c.humidity,i=c.wind,d=c.description;return Object(n.useEffect)((function(){d.includes("Rain")?document.body.style.backgroundImage="linear-gradient(\n      330deg,\n      #315b73 0%,\n      #247aab 25%,\n      #547bf0 50%,\n      #5c6b96 75%,\n      #8a9cd1 100%)":d.includes("Cloud")||d.includes("Snow")?document.body.style.backgroundImage="linear-gradient(\n      330deg,\n      #2e2e2e 0%,\n      #949381 25%,\n      #707070 50%,\n      #9c9b95 75%,\n      #525252 100%)":d.includes("Storm")||d.includes("Haz")?document.body.style.backgroundImage="linear-gradient(\n      330deg,\n      #4c4f54 0%,\n      #4e5157 25%,\n      #424345 50%,\n      #2e2e2e 75%,\n      #4a4943 100%)":document.body.style.backgroundImage="linear-gradient(\n        330deg,\n        #b2e1fa 0%,\n        #ded11b 25%,\n        #58b6e9 50%,\n        #0e8dd2 75%,\n        #2073d8 100%)"}),[d]),t=d.includes("Cloud")||d.includes("Rain")||d.includes("Storm")||d.includes("Snow")||d.includes("Haz")?h:O,Object(o.jsxs)("div",{className:"forecast-details","data-testid":"forecast-details",style:{backgroundImage:"url(".concat(t,")")},children:[Object(o.jsx)("div",{className:"forecast-details__date",children:j()(a).format("dddd Do MMMM yyyy")}),Object(o.jsxs)("div",{className:"forecast-details__temperature",children:["Max temp: ".concat(s.max),"\xb0C"]}),Object(o.jsxs)("div",{className:"forecast-details__temperature",children:["Min temp: ".concat(s.min),"\xb0C"]}),Object(o.jsxs)("div",{className:"forecast-details__humidity",children:["Humidity: ",r,"%"]}),Object(o.jsxs)("div",{className:"forecast-details__wind",children:[Object(o.jsx)(m.a,{name:"owm",iconId:"957"}),": ",i.speed,"mph"," ",i.direction.toUpperCase()]})]})},x=(c(37),c.p+"static/media/magnifier.1d92f967.png"),g=function(e){var t=e.searchText,c=e.setSearchText,n=e.onSubmit;return Object(o.jsxs)("div",{className:"search-form",children:[Object(o.jsx)("input",{type:"text",onChange:function(e){c(e.target.value)},onKeyPress:function(e){return"Enter"===e.key?n():null},value:t,className:"search-form__input"}),Object(o.jsx)("button",{type:"submit",onClick:n,className:"search-form__button",children:Object(o.jsx)("img",{src:x,alt:"magnifier"})})]})},v=(c(38),function(){return Object(o.jsx)("div",{className:"credits",children:Object(o.jsx)("a",{href:"https://github.com/deanspooner",target:"__blank",children:"Weather App by Dean Spooner"})})}),_=c(16),S=c.n(_),N=function(e,t,c,n,a){var s="https://mcr-codes-weather-app.herokuapp.com/forecast";return e&&(s+="?city=".concat(e)),S.a.get(s).then((function(e){t(e.data.forecasts[0].date),c(e.data.forecasts),n(e.data.location),a()})).catch((function(e){var t=e.response.status;404===t&&(a("Currently only UK towns/cities. Is your spelling correct?"),console.error("Location is not valid",e)),500===t&&(a("Oops, server problems on our end, sorry! Try again later. :)"),console.error("Server error",e))}))},M=(c(57),function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),c=t[0],a=t[1],s=Object(n.useState)({city:"",country:""}),r=Object(i.a)(s,2),d=r[0],l=r[1],m=Object(n.useState)(0),b=Object(i.a)(m,2),j=b[0],f=b[1],h=c.find((function(e){return e.date===j})),O=Object(n.useState)(""),x=Object(i.a)(O,2),_=x[0],S=x[1],M=Object(n.useState)(""),w=Object(i.a)(M,2),k=w[0],C=w[1];return Object(n.useEffect)((function(){N(_,f,a,l,C)}),[]),Object(o.jsxs)("div",{className:"weather-app",children:[Object(o.jsx)(u,{city:d.city,country:d.country,errorMessage:k}),Object(o.jsx)(g,{searchText:_,setSearchText:S,onSubmit:function(){N(_,f,a,l,C)}}),!k&&Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(p,{forecasts:c,onForecastSelect:function(e){f(e)}}),h&&Object(o.jsx)(y,{forecast:h})]}),Object(o.jsx)(v,{})]})});r.a.render(Object(o.jsx)(a.a.StrictMode,{children:Object(o.jsx)(M,{})}),document.getElementById("root"))}},[[58,1,2]]]);
//# sourceMappingURL=main.9b983e4c.chunk.js.map