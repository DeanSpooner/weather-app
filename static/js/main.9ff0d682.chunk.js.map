{"version":3,"sources":["components/LocationDetails.js","components/ForecastSummary.js","components/ForecastSummaries.js","images/cloud.png","images/sun.png","components/ForecastDetails.js","images/magnifier.png","components/SearchForm.js","components/Credits.js","requests/getForecast.js","components/App.js","index.js"],"names":["LocationDetails","props","city","country","errorMessage","className","defaultProps","ForecastSummary","date","description","icon","temperature","onSelect","data-testid","moment","format","name","iconId","max","type","onClick","ForecastSummaries","forecasts","onForecastSelect","map","forecast","toString","ForecastDetails","background","humidity","wind","includes","clouds","sun","style","backgroundImage","min","speed","direction","toUpperCase","SearchForm","searchText","setSearchText","onSubmit","onChange","event","target","value","onKeyPress","key","src","magnifier","alt","Credits","href","getForecast","setSelectedDate","setForecasts","setLocation","setErrorMessage","endpoint","axios","get","then","response","data","location","catch","error","status","console","App","useState","selectedDate","selectedForecast","find","useEffect","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.9ff0d682.chunk.js","sourcesContent":["import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport \"../styles/LocationDetails.css\";\n\nconst LocationDetails = (props) => {\n  const { city, country, errorMessage } = props;\n  return errorMessage ? (\n    <h1>{errorMessage}</h1>\n  ) : (\n    <h1 className=\"location-details\">{`${city}, ${country}`}</h1>\n  );\n};\n\nLocationDetails.propTypes = {\n  city: PropTypes.string.isRequired,\n  country: PropTypes.string.isRequired,\n  errorMessage: PropTypes.string,\n};\n\nLocationDetails.defaultProps = {\n  errorMessage: \"\",\n};\n\nexport default LocationDetails;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport \"../styles/ForecastSummary.css\";\nimport WeatherIcon from \"react-icons-weather\";\nimport moment from \"moment\";\n\nconst ForecastSummary = (props) => {\n  const { date, description, icon, temperature, onSelect } = props;\n\n  return (\n    <div className=\"forecast-summary\" data-testid=\"forecast-summary\">\n      <div className=\"forecast-summary__date\">\n        {moment(date).format(\"ddd Do MMM\")}\n      </div>\n      <div className=\"forecast-summary__icon\" data-testid=\"forecast-icon\">\n        <WeatherIcon name=\"owm\" iconId={icon} />\n      </div>\n      <div className=\"forecast-summary__description\">{description}</div>\n      <div className=\"forecast-summary__temperature\">\n        {temperature.max}\n        &deg;C\n      </div>\n      <button\n        type=\"button\"\n        className=\"forecase-summary__button\"\n        onClick={() => onSelect(date)}\n      >\n        More\n      </button>\n    </div>\n  );\n};\n\nexport default ForecastSummary;\n\nForecastSummary.propTypes = {\n  date: PropTypes.number.isRequired,\n  description: PropTypes.string.isRequired,\n  icon: PropTypes.string.isRequired,\n  temperature: PropTypes.shape({\n    min: PropTypes.number,\n    max: PropTypes.number,\n  }).isRequired,\n  onSelect: PropTypes.func.isRequired,\n};\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport ForecastSummary from \"./ForecastSummary\";\nimport \"../styles/ForecastSummaries.css\";\n\nconst ForecastSummaries = ({ forecasts, onForecastSelect }) => {\n  return (\n    <div className=\"forecast-summaries\">\n      {forecasts.map((forecast) => (\n        <ForecastSummary\n          key={forecast.date}\n          date={forecast.date}\n          description={forecast.description}\n          icon={forecast.icon.toString()}\n          temperature={forecast.temperature}\n          onSelect={onForecastSelect}\n        />\n      ))}\n    </div>\n  );\n};\n\nForecastSummaries.propTypes = {\n  forecasts: PropTypes.arrayOf(\n    PropTypes.shape({\n      date: PropTypes.number.isRequired,\n      description: PropTypes.string.isRequired,\n      icon: PropTypes.number.isRequired,\n      temperature: PropTypes.shape({\n        min: PropTypes.number,\n        max: PropTypes.number,\n      }).isRequired,\n    })\n  ).isRequired,\n  onForecastSelect: PropTypes.func.isRequired,\n};\n\nexport default ForecastSummaries;\n","export default __webpack_public_path__ + \"static/media/cloud.30e7607a.png\";","export default __webpack_public_path__ + \"static/media/sun.2b41f7bf.png\";","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport WeatherIcon from \"react-icons-weather\";\nimport \"../styles/ForecastDetails.css\";\nimport moment from \"moment\";\nimport clouds from \"../images/cloud.png\";\nimport sun from \"../images/sun.png\";\n\nconst ForecastDetails = ({ forecast }) => {\n  const { date, temperature, humidity, wind, description } = forecast;\n\n  let background;\n\n  if (\n    description.includes(\"Cloud\") ||\n    description.includes(\"Rain\") ||\n    description.includes(\"Storm\") ||\n    description.includes(\"Snow\") ||\n    description.includes(\"Haz\")\n  ) {\n    background = clouds;\n  } else {\n    background = sun;\n  }\n  return (\n    <div\n      className=\"forecast-details\"\n      data-testid=\"forecast-details\"\n      style={{ backgroundImage: `url(${background})` }}\n    >\n      <div className=\"forecast-details__date\">\n        {moment(date).format(\"dddd Do MMMM yyyy\")}\n      </div>\n      <div className=\"forecast-details__temperature\">\n        {`Max temp: ${temperature.max}`}&deg;C\n      </div>\n      <div className=\"forecast-details__temperature\">\n        {`Min temp: ${temperature.min}`}&deg;C\n      </div>\n      <div className=\"forecast-details__humidity\">Humidity: {humidity}%</div>\n      <div className=\"forecast-details__wind\">\n        <WeatherIcon name=\"owm\" iconId=\"957\" />: {wind.speed}mph{\" \"}\n        {wind.direction.toUpperCase()}\n      </div>\n    </div>\n  );\n};\n\nexport default ForecastDetails;\n\nForecastDetails.propTypes = {\n  forecast: PropTypes.shape({\n    description: PropTypes.string.isRequired,\n    date: PropTypes.number.isRequired,\n    humidity: PropTypes.number.isRequired,\n    temperature: PropTypes.shape({\n      max: PropTypes.number,\n      min: PropTypes.number,\n    }).isRequired,\n    wind: PropTypes.shape({\n      speed: PropTypes.number,\n      direction: PropTypes.string,\n    }).isRequired,\n  }).isRequired,\n};\n","export default __webpack_public_path__ + \"static/media/magnifier.1d92f967.png\";","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport \"../styles/SearchForm.css\";\nimport magnifier from \"../images/magnifier.png\";\n\nconst SearchForm = ({ searchText, setSearchText, onSubmit }) => {\n  const handleInputChange = (event) => {\n    setSearchText(event.target.value);\n  };\n\n  const handleEnter = (event) => {\n    if (event.key === \"Enter\") {\n      return onSubmit();\n    }\n    return null;\n  };\n\n  return (\n    <div className=\"search-form\">\n      <input\n        type=\"text\"\n        onChange={handleInputChange}\n        onKeyPress={handleEnter}\n        value={searchText}\n        className=\"search-form__input\"\n      />\n      <button type=\"submit\" onClick={onSubmit} className=\"search-form__button\">\n        <img src={magnifier} alt=\"magnifier\" />\n      </button>\n    </div>\n  );\n};\n\nexport default SearchForm;\n\nSearchForm.propTypes = {\n  searchText: PropTypes.string.isRequired,\n  setSearchText: PropTypes.func.isRequired,\n  onSubmit: PropTypes.func.isRequired,\n};\n","import React from \"react\";\nimport \"../styles/Credits.css\";\n\nconst Credits = () => {\n  return (\n    <div className=\"credits\">\n      <a href=\"https://github.com/deanspooner\" target=\"__blank\">\n        Weather App by Dean Spooner\n      </a>\n    </div>\n  );\n};\n\nexport default Credits;\n","/* eslint-disable no-console */\n\nimport axios from \"axios\";\n\nconst getForecast = (\n  searchText,\n  setSelectedDate,\n  setForecasts,\n  setLocation,\n  setErrorMessage\n) => {\n  let endpoint = \"https://mcr-codes-weather-app.herokuapp.com/forecast\";\n\n  if (searchText) {\n    endpoint += `?city=${searchText}`;\n  }\n\n  return axios\n    .get(endpoint)\n    .then((response) => {\n      setSelectedDate(response.data.forecasts[0].date);\n      setForecasts(response.data.forecasts);\n      setLocation(response.data.location);\n      setErrorMessage();\n    })\n    .catch((error) => {\n      const { status } = error.response;\n      if (status === 404) {\n        setErrorMessage(\n          \"Currently only UK towns/cities. Is your spelling correct?\"\n        );\n        console.error(\"Location is not valid\", error);\n      }\n      if (status === 500) {\n        setErrorMessage(\n          \"Oops, server problems on our end, sorry! Try again later. :)\"\n        );\n        console.error(\"Server error\", error);\n      }\n    });\n};\n\nexport default getForecast;\n","import React, { useState, useEffect } from \"react\";\nimport LocationDetails from \"./LocationDetails\";\nimport ForecastSummaries from \"./ForecastSummaries\";\nimport ForecastDetails from \"./ForecastDetails\";\nimport SearchForm from \"./SearchForm\";\nimport Credits from \"./Credits\";\nimport getForecast from \"../requests/getForecast\";\nimport \"../styles/App.css\";\n\nconst App = () => {\n  const [forecasts, setForecasts] = useState([]);\n  const [location, setLocation] = useState({ city: \"\", country: \"\" });\n  const [selectedDate, setSelectedDate] = useState(0);\n  const selectedForecast = forecasts.find(\n    (forecast) => forecast.date === selectedDate\n  );\n  const [searchText, setSearchText] = useState(\"\");\n  const [errorMessage, setErrorMessage] = useState(\"\");\n\n  const handleForecastSelect = (date) => {\n    setSelectedDate(date);\n  };\n\n  const handleCitySearch = () => {\n    getForecast(\n      searchText,\n      setSelectedDate,\n      setForecasts,\n      setLocation,\n      setErrorMessage\n    );\n  };\n\n  useEffect(() => {\n    getForecast(\n      searchText,\n      setSelectedDate,\n      setForecasts,\n      setLocation,\n      setErrorMessage\n    );\n  }, []);\n\n  return (\n    <div className=\"weather-app\">\n      <LocationDetails\n        city={location.city}\n        country={location.country}\n        errorMessage={errorMessage}\n      />\n      <SearchForm\n        searchText={searchText}\n        setSearchText={setSearchText}\n        onSubmit={handleCitySearch}\n      />\n      {!errorMessage && (\n        <>\n          <ForecastSummaries\n            forecasts={forecasts}\n            onForecastSelect={handleForecastSelect}\n          />\n          {selectedForecast && <ForecastDetails forecast={selectedForecast} />}\n        </>\n      )}\n      <Credits />\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./styles/index.css\";\nimport App from \"./components/App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}